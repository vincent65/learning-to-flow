# BALANCED NO-CONTRASTIVE CONFIG
# Fixes issues from initial test:
# 1. Low linear probe accuracy (Smiling 48%, Male 58%)
# 2. 0% monotonic AUC (oscillating trajectories)
#
# Changes:
# - Stronger classifier loss (1.0 → 2.0)
# - Weaker identity loss (0.5 → 0.2)
# - Smaller training steps (0.15 → 0.1)

model:
  embedding_dim: 512
  num_attributes: 5
  hidden_dim: 256
  projection_radius: 1.0

data:
  celeba_root: "data/celeba"
  embedding_dir: "data/embeddings"

training:
  num_epochs: 100
  batch_size: 512
  learning_rate: 0.0001
  alpha: 0.1  # REDUCED: Smaller training steps for stability
  flow_steps: 10
  use_no_contrastive: true

loss:
  # INCREASED: Stronger classifier signal
  lambda_classifier: 2.0  # Was 1.0

  # Attribute independence
  lambda_orthogonal: 0.1

  # REDUCED: Weaker identity to allow more movement
  lambda_identity: 0.2  # Was 0.5

  # Trajectory smoothness
  lambda_smoothness: 0.1

  # Optional regularization
  lambda_curl: 0.0
  lambda_div: 0.0

inference:
  num_flow_steps: 10
  step_size: 0.1
